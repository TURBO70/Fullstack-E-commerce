<div class="max-w-6xl mx-auto p-4 md:p-8 font-sans text-slate-900">
  <div class="flex items-center gap-2 text-sm text-muted-foreground mb-6"><a class="hover:text-primary"
      [routerLink]="'/'">Home</a><span>/</span><a class="hover:text-primary" [routerLink]="'/products'">Products</a><span>/</span><a
      class="hover:text-primary" [routerLink]="'/products?category=fresh-fruits'">{{categoryName()?.name}}</a><span>/</span><span
      class="text-foreground">{{product()?.name}}</span></div>

  <!-- Back button -->
  <button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium
     ring-offset-background transition-colors focus-visible:outline-none
      focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 
      disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0
       hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 mb-6 gap-2 cursor-pointer"><svg
      xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left h-4 w-4">
      <path d="m12 19-7-7 7-7"></path>
      <path d="M19 12H5"></path>
    </svg>Back</button>

  <!-- Product detail container -->
  <div class="flex flex-col md:flex-row gap-12 items-start">

    <!-- Image on the left -->
    <div class="w-full md:w-1/2 relative rounded-2xl overflow-hidden bg-[#f8f9fa] border border-slate-100 shadow-sm">
      <img [src]="product()?.image" [alt]="product()?.name" class="w-full h-full object-cover" />
      @if (product()?.isOrganic === true) {
      <div class="rounded-full border px-2.5 py-0.5 text-xs font-semibold
           border-transparent absolute top-4 right-4
           bg-success text-success-foreground flex items-center gap-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
          <path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z"></path>
          <path d="M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12"></path>
        </svg>

        Organic
      </div>
      }
      @if(product()?.originalPrice!=null) {
      <div class="inline-flex items-center rounded-full border font-semibold  border-transparent
          absolute top-4 left-4 bg-destructive text-destructive-foreground text-lg px-3 py-1">
        {{-((product()?.originalPrice! - product()?.price!) / product()?.originalPrice!) * 100 | number:'1.0-0' }}%
      </div>
      }

    </div>

    <!-- Product info on the right -->
    <div class="flex-1 flex flex-col justify-start space-y-6">

      <!-- Title and rating -->
      <div>
        <h1 class="text-3xl md:text-4xl font-bold font-display">{{ product()?.name }}</h1>
        <!-- <div class="flex items-center gap-4">
          <div
            class="flex items-center text-amber-500 text-sm font-bold bg-amber-50 px-3 py-1 rounded-full border border-amber-100">
            ‚òÖ 4.8 <span class="text-slate-400 font-normal ml-2">{{product()?.reviews}} reviews</span>
          </div>
          <span
            class="px-3 py-1 bg-slate-100 text-slate-500 text-xs rounded-full font-bold uppercase tracking-wide">{{categoryName()?.name}}
          </span>
        </div> -->
        <div class="flex items-center gap-4 mt-2">
          <div class="flex items-center gap-1"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
              viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
              stroke-linejoin="round" class="lucide lucide-star h-5 w-5 fill-accent text-accent">
              <path
                d="M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z">
              </path>
            </svg><span class="font-semibold">{{product()?.rating}}</span><span
              class="text-muted-foreground">({{product()?.reviews}} reviews)</span></div>
          <div
            class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80">
            <a href="/products?category=fresh-fruits">{{categoryName()?.name}}</a>
          </div>
        </div>
      </div>
      <div data-orientation="horizontal" role="none" class="shrink-0 bg-border h-[1px] w-full"></div>

      <!-- Price -->
      <!-- <div class="flex items-baseline gap-4">
        <span class="text-3xl font-bold text-[#5f8575]">${{ product()?.price }}</span>
        <span class="text-slate-300 line-through text-xl font-medium">$6.99</span>
        <span class="text-slate-400 text-sm">/ kg</span>
      </div> -->
      <div class="flex items-baseline gap-3">
        <span class="text-4xl font-bold text-primary">${{ product()?.price }}</span>
        @if(product()?.originalPrice!=null) {
        <span class="text-xl text-muted-foreground line-through">{{product()?.originalPrice | currency}}
        </span>
        }
        <span class="text-muted-foreground">/ kg</span>
      </div>

      <!-- Stock -->
      <p class="text-success text-sm font-medium">In Stock ({{product()?.stock}} available)</p>
      <!-- <div
        class="inline-flex items-center gap-2 text-[#10b981] bg-green-50 px-4 py-2 rounded-xl w-fit border border-green-100">
        <span class="text-sm font-bold">In Stock {{ product()?.stock }} available</span>
      </div> -->
      <div data-orientation="horizontal" role="none" class="shrink-0 bg-border h-[1px] w-full"></div>

      <!-- Description -->
      <div class="space-y-2">
        <h2 class="font-semibold mb-2">Description</h2>
        <p class="text-muted-foreground">
          {{ product()?.description }}
        </p>
      </div>

      <!-- Quantity & Add to Cart -->
      <div class="flex items-center gap-4">
        <div class="flex items-center border-2 border-slate-100 rounded-2xl p-1 bg-slate-50 shadow-inner">
          <div class="flex items-center border rounded-lg">

            <!-- minus -->
            <button class="inline-flex items-center justify-center gap-2 rounded-md h-10 w-10
           hover:bg-accent hover:text-accent-foreground
           disabled:pointer-events-none disabled:opacity-50 cursor-pointer" (click)="updateQuantity(-1)"
              [disabled]="quantity() === 1">

              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
                <path d="M5 12h14"></path>
              </svg>
            </button>

            <!-- quantity -->
            <span class="w-12 text-center font-medium">
              {{ quantity() }}
            </span>

            <!-- plus -->
            <button class="inline-flex items-center justify-center gap-2 rounded-md h-10 w-10
           hover:bg-accent hover:text-accent-foreground cursor-pointer" (click)="updateQuantity(1)">

              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4">
                <path d="M5 12h14"></path>
                <path d="M12 5v14"></path>
              </svg>
            </button>

          </div>

        </div>
        <!-- <button
          class="flex-1 bg-[#5f8575] hover:bg-[#4a695c] text-white h-12 rounded-2xl font-bold text-lg transition-all shadow-lg flex items-center justify-center gap-3 active:scale-[0.98]">
          üõí Add to Cart
        </button> -->
        <button
          class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 bg-primary text-primary-foreground hover:bg-primary/90 h-11 rounded-md px-8 gap-2 flex-1 md:flex-none"><svg
            xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
            class="lucide lucide-shopping-cart h-5 w-5">
            <circle cx="8" cy="21" r="1"></circle>
            <circle cx="19" cy="21" r="1"></circle>
            <path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"></path>
          </svg>Add to Cart</button>
      </div>

      <!-- Delivery / Guarantee / Returns -->
      <!-- <div class="grid grid-cols-3 gap-4 pt-6">
        <div
          class="flex flex-col items-center p-4 rounded-2xl bg-[#f8f9fa] hover:bg-white hover:shadow-sm transition-all border border-transparent hover:border-slate-100">
          <div class="text-2xl mb-2">üöö</div>
          <p class="text-xs font-black text-slate-500 uppercase tracking-tighter italic text-center">Free Delivery</p>
        </div>
        <div
          class="flex flex-col items-center p-4 rounded-2xl bg-[#f8f9fa] hover:bg-white hover:shadow-sm transition-all border border-transparent hover:border-slate-100">
          <div class="text-2xl mb-2">üõ°Ô∏è</div>
          <p class="text-xs font-black text-slate-500 uppercase tracking-tighter italic text-center">Quality Guaranteed
          </p>
        </div>
        <div
          class="flex flex-col items-center p-4 rounded-2xl bg-[#f8f9fa] hover:bg-white hover:shadow-sm transition-all border border-transparent hover:border-slate-100">
          <div class="text-2xl mb-2">üîÑ</div>
          <p class="text-xs font-black text-slate-500 uppercase tracking-tighter italic text-center">Easy Returns</p>
        </div>
      </div> -->
      <div class="grid grid-cols-3 gap-4 text-center">
        <div class="p-4 bg-secondary/50 rounded-lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round" class="lucide lucide-truck h-6 w-6 mx-auto mb-2 text-primary">
            <path d="M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2"></path>
            <path d="M15 18H9"></path>
            <path d="M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14"></path>
            <circle cx="17" cy="18" r="2"></circle>
            <circle cx="7" cy="18" r="2"></circle>
          </svg>
          <p class="text-xs font-medium">Free Delivery</p>
        </div>
        <div class="p-4 bg-secondary/50 rounded-lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round" class="lucide lucide-shield h-6 w-6 mx-auto mb-2 text-primary">
            <path
              d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z">
            </path>
          </svg>
          <p class="text-xs font-medium">Quality Guaranteed</p>
        </div>
        <div class="p-4 bg-secondary/50 rounded-lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
            viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
            stroke-linejoin="round" class="lucide lucide-rotate-ccw h-6 w-6 mx-auto mb-2 text-primary">
            <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
            <path d="M3 3v5h5"></path>
          </svg>
          <p class="text-xs font-medium">Easy Returns</p>
        </div>
      </div>

    </div>
  </div>
</div>